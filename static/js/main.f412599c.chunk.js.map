{"version":3,"sources":["NotCorect.jsx","Table.jsx","App.jsx","index.js"],"names":["NotCorect","className","Table","dataArr","isIncorect","data","duplicateEmail","map","item","index","idx","forEach","res","i","email","phone","age","parseInt","experience","yearlyincome","licensestates","split","slice","join","expirationdate","haschildren","String","licensenumber","ageStyle","expStyle","incStyle","dateStyle","phoneStyle","childrenStyle","push","length","format","Date","fullname","toLowerCase","buttonRef","React","createRef","App","state","arr","isNotCorect","handleOpenDialog","e","current","open","handleOnFileLoad","fileInfo","name","includes","setState","parseData","duplicatePhone","handleOnError","err","console","log","handleOnRemoveFile","handleRemoveFile","removeFile","handleTransform","value","trim","handleHader","ref","onFileLoad","this","onError","noClick","noDrag","config","header","skipEmptyLines","transform","transformHeader","dynamicTyping","onRemoveFile","file","onClick","type","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f412599c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst NotCorect = () => {\r\n  return (\r\n    <div className=\"notCorect\">\r\n      <h2 className=\"titleNotCorect\">File format is not correct</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotCorect;\r\n","import React from \"react\";\r\nimport NotCorect from \"./NotCorect\";\r\nimport format from \"date-fns/format\";\r\n\r\nconst Table = ({ isIncorect, data, duplicateEmail }) => {\r\n  let dataArr;\r\n\r\n  if (!isIncorect) {\r\n    dataArr = data.map((item, index) => {\r\n      let idx;\r\n      data.forEach((res, i) => {\r\n        if (res.email === item.email || res.phone === item.phone) {\r\n          if (i !== index) {\r\n            idx = i + 1;\r\n          }\r\n        }\r\n      });\r\n\r\n      const phone = \"+1\" + item.phone;\r\n      const age = parseInt(item.age);\r\n      const experience = parseInt(item.experience);\r\n      const yearlyincome = parseInt(item.yearlyincome) / 100;\r\n      const licensestates = item.licensestates\r\n        .split(\" \")\r\n        .map((item) => item.slice(0, 2))\r\n        .join(\" | \");\r\n\r\n      const expirationdate = item.expirationdate;\r\n      const haschildren = String(item.haschildren);\r\n      const licensenumber = item.licensenumber;\r\n\r\n      const ageStyle = [\"info\"];\r\n      const expStyle = [\"info\"];\r\n      const incStyle = [\"info\"];\r\n      const dateStyle = [\"info\"];\r\n      const phoneStyle = [\"info\"];\r\n      const childrenStyle = [\"info\"];\r\n      const licenseStyle = [\"info\"];\r\n\r\n      item.age < 21 && ageStyle.push(\"infoAge\");\r\n      item.experience > 21 && expStyle.push(\"infoAge\");\r\n      item.yearlyincome > 1000000 && incStyle.push(\"infoAge\");\r\n      item.phone.length > 10 && phoneStyle.push(\"infoAge\");\r\n\r\n      typeof item.haschildren === \"boolean\"\r\n        ? childrenStyle.push(\"\")\r\n        : childrenStyle.push(\"infoAge\");\r\n\r\n      if (\r\n        item.expirationdate ===\r\n          format(new Date(item.expirationdate), \"yyyy-MM-dd\") ||\r\n        item.expirationdate ===\r\n          format(new Date(item.expirationdate), \"MM/dd/yyyy\")\r\n      ) {\r\n        dateStyle.push(\"\");\r\n      } else {\r\n        dateStyle.push(\"infoAge\");\r\n      }\r\n\r\n      return (\r\n        <tr key={index}>\r\n          <td className=\"info\">{index + 1}</td>\r\n          <td className=\"info\">{item.fullname}</td>\r\n          <td className={phoneStyle.join(\" \")}>{phone}</td>\r\n          <td className=\"info\">{item.email.toLowerCase()}</td>\r\n          <td className={ageStyle.join(\" \")}>{age}</td>\r\n          <td className={expStyle.join(\" \")}>{experience}</td>\r\n          <td className={incStyle.join(\" \")}>{yearlyincome}</td>\r\n          <td className={childrenStyle.join(\" \")}>{haschildren}</td>\r\n          <td className=\"info\">{licensestates}</td>\r\n          <td className={dateStyle.join(\" \")}>{expirationdate}</td>\r\n          <td className={licenseStyle.join(\" \")}>{licensenumber}</td>\r\n          <td className=\"info\">{idx && idx}</td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isIncorect ? (\r\n        <NotCorect />\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead className=\"tableData\">\r\n            <tr className=\"tableData\">\r\n              <th className=\"head\">ID</th>\r\n              <th className=\"head\">Full Name</th>\r\n              <th className=\"head\">Phone</th>\r\n              <th className=\"head\">Email</th>\r\n              <th className=\"head\">Age</th>\r\n              <th className=\"head\">Experience</th>\r\n              <th className=\"head\">Yearly Income</th>\r\n              <th className=\"head\">Has children</th>\r\n              <th className=\"head\">License states</th>\r\n              <th className=\"head\">Expiration date</th>\r\n              <th className=\"head\">License number</th>\r\n              <th className=\"head\">Duplicate with</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"tableData\">{dataArr}</tbody>\r\n        </table>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React, { Component } from \"react\";\nimport { CSVReader } from \"react-papaparse\";\nimport \"./index.css\";\nimport Table from \"./Table\";\n\nconst buttonRef = React.createRef();\n\nclass App extends Component {\n  state = {\n    arr: [],\n    isNotCorect: false,\n  };\n\n  handleOpenDialog = (e) => {\n    if (buttonRef.current) {\n      buttonRef.current.open(e);\n    }\n  };\n\n  handleOnFileLoad = (data, fileInfo) => {\n    if (!fileInfo.name.includes(\"csv\")) {\n      this.setState({ isNotCorect: true });\n    }\n\n    const parseData = data.map((item) => item.data);\n\n    this.setState({ duplicateEmail: [], duplicatePhone: [] });\n\n    parseData.forEach(({ fullname, phone, email }, index) => {\n      !fullname && this.setState({ isNotCorect: true });\n      !phone && this.setState({ isNotCorect: true });\n      !email && this.setState({ isNotCorect: true });\n    });\n\n    this.setState({ arr: parseData });\n  };\n\n  handleOnError = (err) => {\n    console.log(\"Err\");\n    console.log(err);\n  };\n\n  handleOnRemoveFile = (data) => {\n    this.setState({ arr: [], isNotCorect: false });\n  };\n\n  handleRemoveFile = (e) => {\n    if (buttonRef.current) {\n      buttonRef.current.removeFile(e);\n    }\n  };\n\n  handleTransform = (value) => {\n    return value.trim();\n  };\n\n  handleHader = (item) => {\n    return item.split(\" \").join(\"\").toLowerCase();\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"container\">\n          <CSVReader\n            ref={buttonRef}\n            onFileLoad={this.handleOnFileLoad}\n            onError={this.handleOnError}\n            noClick\n            noDrag\n            config={{\n              header: true,\n              skipEmptyLines: true,\n              transform: this.handleTransform,\n              transformHeader: this.handleHader,\n              dynamicTyping: true,\n            }}\n            onRemoveFile={this.handleOnRemoveFile}\n          >\n            {({ file }) => (\n              <aside className=\"aside\">\n                {file ? (\n                  <button className=\"btnRemove\" onClick={this.handleRemoveFile}>\n                    Remove {file.name}\n                  </button>\n                ) : (\n                  <button\n                    type=\"button\"\n                    onClick={this.handleOpenDialog}\n                    className=\"btn\"\n                  >\n                    Import users 🗄️\n                  </button>\n                )}\n              </aside>\n            )}\n          </CSVReader>\n          {this.state.arr.length ? (\n            <Table isIncorect={this.state.isNotCorect} data={this.state.arr} />\n          ) : (\n            <h1 className=\"title\">Загрузіть файл 📁 </h1>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}