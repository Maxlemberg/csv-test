{"version":3,"sources":["NotCorect.jsx","Table.jsx","App.jsx","index.js"],"names":["NotCorect","className","Table","dataArr","isIncorect","data","duplicateEmail","console","log","map","item","index","idx","reduce","acc","email","phone","age","parseInt","experience","yearlyincome","licensestates","split","slice","join","expirationdate","haschildren","String","licensenumber","ageStyle","expStyle","incStyle","dateStyle","phoneStyle","childrenStyle","push","length","format","Date","fullname","toLowerCase","buttonRef","React","createRef","App","state","arr","isNotCorect","handleOpenDialog","e","current","open","handleOnFileLoad","fileInfo","name","includes","setState","parseData","dataEmail","dataPhone","duplicatePhone","forEach","handleOnError","err","handleOnRemoveFile","handleRemoveFile","removeFile","handleTransform","value","trim","handleHader","ref","onFileLoad","this","onError","noClick","noDrag","config","header","skipEmptyLines","transform","transformHeader","dynamicTyping","onRemoveFile","file","onClick","type","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0e136261.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst NotCorect = () => {\r\n  return (\r\n    <div className=\"notCorect\">\r\n      <h2 className=\"titleNotCorect\">File format is not correct</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotCorect;\r\n","import React from \"react\";\r\nimport NotCorect from \"./NotCorect\";\r\nimport format from \"date-fns/format\";\r\n\r\nconst Table = ({ isIncorect, data, duplicateEmail }) => {\r\n  console.log(duplicateEmail);\r\n\r\n  let dataArr;\r\n\r\n  if (!isIncorect) {\r\n    dataArr = data.map((item, index) => {\r\n      const idx = duplicateEmail.reduce(\r\n        (acc, data) => (data.email === item.email ? (acc = data.index) : \"\"),\r\n        \"\"\r\n      );\r\n\r\n      const phone = \"+1\" + item.phone;\r\n      const age = parseInt(item.age);\r\n      const experience = parseInt(item.experience);\r\n      const yearlyincome = parseInt(item.yearlyincome) / 100;\r\n      const licensestates = item.licensestates\r\n        .split(\" \")\r\n        .map((item) => item.slice(0, 2))\r\n        .join(\" | \");\r\n\r\n      const expirationdate = item.expirationdate;\r\n      const haschildren = String(item.haschildren);\r\n      const licensenumber = item.licensenumber;\r\n\r\n      const ageStyle = [\"info\"];\r\n      const expStyle = [\"info\"];\r\n      const incStyle = [\"info\"];\r\n      const dateStyle = [\"info\"];\r\n      const phoneStyle = [\"info\"];\r\n      const childrenStyle = [\"info\"];\r\n      const licenseStyle = [\"info\"];\r\n\r\n      item.age < 21 && ageStyle.push(\"infoAge\");\r\n      item.experience > 21 && expStyle.push(\"infoAge\");\r\n      item.yearlyincome > 1000000 && incStyle.push(\"infoAge\");\r\n      item.phone.length > 10 && phoneStyle.push(\"infoAge\");\r\n\r\n      typeof item.haschildren === \"boolean\"\r\n        ? childrenStyle.push(\"\")\r\n        : childrenStyle.push(\"infoAge\");\r\n\r\n      if (\r\n        item.expirationdate ===\r\n          format(new Date(item.expirationdate), \"yyyy-MM-dd\") ||\r\n        item.expirationdate ===\r\n          format(new Date(item.expirationdate), \"MM/dd/yyyy\")\r\n      ) {\r\n        dateStyle.push(\"\");\r\n      } else {\r\n        dateStyle.push(\"infoAge\");\r\n      }\r\n\r\n      return (\r\n        <tr key={index}>\r\n          <td className=\"info\">{index + 1}</td>\r\n          <td className=\"info\">{item.fullname}</td>\r\n          <td className={phoneStyle.join(\" \")}>{phone}</td>\r\n          <td className=\"info\">{item.email.toLowerCase()}</td>\r\n          <td className={ageStyle.join(\" \")}>{age}</td>\r\n          <td className={expStyle.join(\" \")}>{experience}</td>\r\n          <td className={incStyle.join(\" \")}>{yearlyincome}</td>\r\n          <td className={childrenStyle.join(\" \")}>{haschildren}</td>\r\n          <td className=\"info\">{licensestates}</td>\r\n          <td className={dateStyle.join(\" \")}>{expirationdate}</td>\r\n          <td className={licenseStyle.join(\" \")}>{licensenumber}</td>\r\n          <td className=\"info\">{idx && idx + 1}</td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isIncorect ? (\r\n        <NotCorect />\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead className=\"tableData\">\r\n            <tr className=\"tableData\">\r\n              <th className=\"head\">ID</th>\r\n              <th className=\"head\">Full Name</th>\r\n              <th className=\"head\">Phone</th>\r\n              <th className=\"head\">Email</th>\r\n              <th className=\"head\">Age</th>\r\n              <th className=\"head\">Experience</th>\r\n              <th className=\"head\">Yearly Income</th>\r\n              <th className=\"head\">Has children</th>\r\n              <th className=\"head\">License states</th>\r\n              <th className=\"head\">Expiration date</th>\r\n              <th className=\"head\">License number</th>\r\n              <th className=\"head\">Duplicate with</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"tableData\">{dataArr}</tbody>\r\n        </table>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React, { Component } from \"react\";\nimport { CSVReader } from \"react-papaparse\";\nimport \"./index.css\";\nimport Table from \"./Table\";\n\nconst buttonRef = React.createRef();\n\nclass App extends Component {\n  state = {\n    arr: [],\n    isNotCorect: false,\n    duplicateEmail: [],\n    // duplicatePhone: [],\n  };\n\n  handleOpenDialog = (e) => {\n    if (buttonRef.current) {\n      buttonRef.current.open(e);\n    }\n  };\n\n  handleOnFileLoad = (data, fileInfo) => {\n    if (!fileInfo.name.includes(\"csv\")) {\n      this.setState({ isNotCorect: true });\n    }\n\n    const parseData = data.map((item) => item.data);\n\n    let dataEmail = [];\n    let dataPhone = [];\n\n    this.setState({ duplicateEmail: [], duplicatePhone: [] });\n\n    parseData.forEach(({ fullname, phone, email }, index) => {\n      !fullname && this.setState({ isNotCorect: true });\n      !phone && this.setState({ isNotCorect: true });\n      !email && this.setState({ isNotCorect: true });\n\n      dataEmail.includes(email)\n        ? this.setState({\n            duplicateEmail: [\n              ...this.state.duplicateEmail,\n              { email: email, index: index },\n            ],\n          })\n        : dataEmail.push(email);\n\n      dataPhone.includes(phone)\n        ? this.setState({\n            duplicatePhone: [...this.state.duplicatePhone, index],\n          })\n        : dataPhone.push(phone);\n    });\n\n    this.setState({ arr: parseData });\n  };\n\n  handleOnError = (err) => {\n    console.log(\"Err\");\n    console.log(err);\n  };\n\n  handleOnRemoveFile = (data) => {\n    this.setState({ arr: [], isNotCorect: false });\n  };\n\n  handleRemoveFile = (e) => {\n    if (buttonRef.current) {\n      buttonRef.current.removeFile(e);\n    }\n  };\n\n  handleTransform = (value) => {\n    return value.trim();\n  };\n\n  handleHader = (item) => {\n    return item.split(\" \").join(\"\").toLowerCase();\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"container\">\n          <CSVReader\n            ref={buttonRef}\n            onFileLoad={this.handleOnFileLoad}\n            onError={this.handleOnError}\n            noClick\n            noDrag\n            config={{\n              header: true,\n              skipEmptyLines: true,\n              transform: this.handleTransform,\n              transformHeader: this.handleHader,\n              dynamicTyping: true,\n            }}\n            onRemoveFile={this.handleOnRemoveFile}\n          >\n            {({ file }) => (\n              <aside className=\"aside\">\n                {file ? (\n                  <button className=\"btnRemove\" onClick={this.handleRemoveFile}>\n                    Remove {file.name}\n                  </button>\n                ) : (\n                  <button\n                    type=\"button\"\n                    onClick={this.handleOpenDialog}\n                    className=\"btn\"\n                  >\n                    Import users 🗄️\n                  </button>\n                )}\n              </aside>\n            )}\n          </CSVReader>\n          {this.state.arr.length ? (\n            <Table\n              isIncorect={this.state.isNotCorect}\n              data={this.state.arr}\n              duplicateEmail={this.state.duplicateEmail}\n              // duplicatePhone={this.state.duplicatePhone}\n            />\n          ) : (\n            <h1 className=\"title\">Загрузіть файл 📁 </h1>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}